Merhaba öncelikle veritabanınızda ve entities katmanınızda CarImage tablolarınızı oluşturun. Daha sonra bütün nesnelere yaptığımız işlemleri CarImage için de yapın. Core katmanında Utilities altında Helper klasörünün içinde FileHelper class'ı tanımladım.Bu class yardımıyla postman'dan projemize resim ekleyebileceğiz. Hoca bizden resimlerimizi kendi kaydettiğimiz isimle değil guild ile yüklememizi istemiş.Bu işlemde FileHelper'ın içinde. https://github.com/Maqammed/RentACarProject isterseniz bir inceleyin..

Selamlar. 13. ödev ile ilgili. Guid'i Core katmanında oluşturuyoruz. WebAPI içerisinde CarImagesController'da Add işleminde webroot adında dosya yoksa oluşturuyoruz. Ardından Guid ile isimlendirme yapıyoruz. webroot klasörüne kaydediyoruz. Business katmanında ise gerekli kontroller yapıldıktan sonra veritabanına ekliyoruz. Doğru mu anlamışım?


Merhaba,
Sizce doğru olan resim yükleme yapılırken dosyanın yüklenmesi kısmının Web api kısmında mi yapılması businessda mi yapılması? Şöyle ki katmanlı mimari ile yapılmış projeleri inceliyorum ve dosyanın yüklenmesi kısmı daima api bölümünde, standart add fonksiyonu şeklinde businessda yer alıyor. Bir de diğer bir sorun dosya wwwroot içinde bir klasörde depolaniyor anlaşılan genelde, businessda dosya adı düzenlemesi gibi şeyler yapınca kaydedecegi path'i bir türlü alacak yolu bulamadım. Yapan arkadaşlara bakıyorum ve proje ana dizinine images klasöründe depoluyorlar. Wwwroot içinde sadece kontrolün apide yapıldığı kodlar var.
Sorduğum zaman diğer gruplarda da benzer bir yanıt aldım.
Sadece path bilgisinin veritabina gönderilmesi kısmı değil de dosya adından depolanmasına kadar ki kısmı businessda gerçekleştiren arkadaşların kodlarını denedim birebir aynı olmasına rağmen sürekli path değeri null geliyor, klasörü bulamamasından kaynaklı hatalar aldım. Açıkçası kendimi fazlasıyla salak hissetmeye başladım onca kişi yapıyor ben neden başaramıyorum diye, hevesim kırılmadı değil. Sizce doğru olan nedir? Dosya adının, depolamanın Web api kısmında yapılıp veritabanına gidecek bilgilerin ise businessda yapılması mi yoksa komple business mi? Bu arada udemyde katmanlı mimari aspnet core projesi yapılan bir kursa sahibim ve orada da bu işlemlerin tamamı Web api katmaninda yapılıp businesstan add metodu çağrılıyor.