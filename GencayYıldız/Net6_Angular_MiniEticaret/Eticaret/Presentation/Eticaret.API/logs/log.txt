2022-09-28 16:52:23.748 +03:00 [INF] User profile is available. Using 'C:\Users\HaticeNur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-28 16:52:24.413 +03:00 [INF] Now listening on: https://localhost:7223
2022-09-28 16:52:24.421 +03:00 [INF] Now listening on: http://localhost:5223
2022-09-28 16:52:24.436 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-28 16:52:24.438 +03:00 [INF] Hosting environment: Development
2022-09-28 16:52:24.440 +03:00 [INF] Content root path: C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\
2022-09-28 16:52:39.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - -
2022-09-28 16:52:40.748 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - - - 200 - text/html;charset=utf-8 882.3463ms
2022-09-28 16:52:40.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - -
2022-09-28 16:52:40.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - -
2022-09-28 16:52:40.870 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - -
2022-09-28 16:52:40.882 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 23.5905ms
2022-09-28 16:52:40.915 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-09-28 16:52:40.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - - - 0 143943 text/css 64.5222ms
2022-09-28 16:52:40.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 105.1286ms
2022-09-28 16:52:41.194 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - -
2022-09-28 16:52:41.199 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-09-28 16:52:41.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - - - 0 665 image/png 8.8949ms
2022-09-28 16:52:41.360 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - -
2022-09-28 16:52:41.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 253.4860ms
2022-09-28 17:21:16.172 +03:00 [INF] User profile is available. Using 'C:\Users\HaticeNur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-28 17:21:16.756 +03:00 [INF] Now listening on: https://localhost:7223
2022-09-28 17:21:16.758 +03:00 [INF] Now listening on: http://localhost:5223
2022-09-28 17:21:16.767 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-28 17:21:16.769 +03:00 [INF] Hosting environment: Development
2022-09-28 17:21:16.771 +03:00 [INF] Content root path: C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\
2022-09-28 17:21:20.754 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - -
2022-09-28 17:21:21.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - - - 200 - text/html;charset=utf-8 858.6965ms
2022-09-28 17:21:21.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - -
2022-09-28 17:21:21.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - -
2022-09-28 17:21:21.659 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - -
2022-09-28 17:21:21.678 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 24.1381ms
2022-09-28 17:21:21.704 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-09-28 17:21:21.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - - - 0 143943 text/css 55.9358ms
2022-09-28 17:21:21.763 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 104.0231ms
2022-09-28 17:21:22.062 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - -
2022-09-28 17:21:22.067 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-09-28 17:21:22.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - - - 0 665 image/png 8.4244ms
2022-09-28 17:21:22.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - -
2022-09-28 17:21:22.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 314.0294ms
2022-09-28 17:21:44.003 +03:00 [INF] User profile is available. Using 'C:\Users\HaticeNur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-28 17:21:44.469 +03:00 [INF] Now listening on: https://localhost:7223
2022-09-28 17:21:44.472 +03:00 [INF] Now listening on: http://localhost:5223
2022-09-28 17:21:44.486 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-28 17:21:44.488 +03:00 [INF] Hosting environment: Development
2022-09-28 17:21:44.491 +03:00 [INF] Content root path: C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\
2022-09-28 17:21:47.690 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - -
2022-09-28 17:21:48.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - - - 200 - text/html;charset=utf-8 774.9204ms
2022-09-28 17:21:48.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - -
2022-09-28 17:21:48.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - -
2022-09-28 17:21:48.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - -
2022-09-28 17:21:48.508 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 22.3915ms
2022-09-28 17:21:48.529 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-09-28 17:21:48.532 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - - - 0 143943 text/css 46.9632ms
2022-09-28 17:21:48.544 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.6438ms
2022-09-28 17:21:48.634 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - -
2022-09-28 17:21:48.641 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-09-28 17:21:48.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - - - 0 665 image/png 9.9047ms
2022-09-28 17:21:48.775 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - -
2022-09-28 17:21:49.021 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 246.5238ms
2022-09-28 17:23:47.095 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/auth/facebook-login - -
2022-09-28 17:23:47.117 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/facebook-login
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:23:47.130 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:23:47.135 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:23:47.141 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/auth/facebook-login - - - 204 - - 46.1696ms
2022-09-28 17:23:47.146 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/api/auth/facebook-login application/json 982
2022-09-28 17:23:47.153 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/facebook-login
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 982
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:23:47.159 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:23:47.201 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.AuthController.FacebookLogin (ETicaret.API)'
2022-09-28 17:23:47.275 +03:00 [INF] Route matched with {action = "FacebookLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FacebookLogin(ETicaret.Application.Features.Commands.AppUser.FacebookLogin.FacebookLoginCommandRequest) on controller ETicaret.API.Controllers.AuthController (ETicaret.API).
2022-09-28 17:23:47.333 +03:00 [INF] RequestBody: {"id":"110719425134699","name":"Süleyman Aslan","email":"byastim@gmail.com","photoUrl":"https://graph.facebook.com/110719425134699/picture?type=normal","firstName":"Süleyman","lastName":"Aslan","authToken":"EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD","response":{"name":"Süleyman Aslan","email":"byastim@gmail.com","picture":{"data":{"height":50,"is_silhouette":true,"url":"https://scontent.fesb8-1.fna.fbcdn.net/v/t1.30497-1/84628273_176159830277856_972693363922829312_n.jpg?stp=c15.0.50.50a_cp0_dst-jpg_p50x50&_nc_cat=1&ccb=1-7&_nc_sid=12b3be&_nc_ohc=8hwh4WTwA-kAX_p_wLj&_nc_ht=scontent.fesb8-1.fna&edm=AP4hL3IEAAAA&oh=00_AT9MoTF1y3T-e37R_lqMBoZnyo7QP-etnobVMUeWSXgPlA&oe=635ABD19","width":50}},"first_name":"Süleyman","last_name":"Aslan","id":"110719425134699"},"provider":"FACEBOOK"}
2022-09-28 17:23:47.857 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=495521812133767&client_secret=0abb8b2f24773ce394378fbe085671e3&grant_type=client_credentials"
2022-09-28 17:23:47.877 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=495521812133767&client_secret=0abb8b2f24773ce394378fbe085671e3&grant_type=client_credentials"
2022-09-28 17:23:48.281 +03:00 [INF] Received HTTP response headers after 392.1543ms - 200
2022-09-28 17:23:48.286 +03:00 [INF] End processing HTTP request after 434.1475ms - 200
2022-09-28 17:23:48.297 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD&access_token=495521812133767|MyZutXCtCQ8t4XlK6NmGMOYlTGA"
2022-09-28 17:23:48.302 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD&access_token=495521812133767|MyZutXCtCQ8t4XlK6NmGMOYlTGA"
2022-09-28 17:23:48.477 +03:00 [INF] Received HTTP response headers after 172.0116ms - 200
2022-09-28 17:23:48.484 +03:00 [INF] End processing HTTP request after 187.123ms - 200
2022-09-28 17:23:48.488 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=email,name&access_token=EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD"
2022-09-28 17:23:48.491 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=email,name&access_token=EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD"
2022-09-28 17:23:48.673 +03:00 [INF] Received HTTP response headers after 178.9279ms - 200
2022-09-28 17:23:48.682 +03:00 [INF] End processing HTTP request after 193.2524ms - 200
2022-09-28 17:23:50.411 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 17:23:51.192 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 17:23:51.452 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 17:23:51.553 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 17:23:51.563 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 17:23:51.571 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-09-28 17:23:51.900 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-09-28 17:23:52.126 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-09-28 17:23:52.215 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaret.Application.Features.Commands.AppUser.FacebookLogin.FacebookLoginCommandResponse'.
2022-09-28 17:23:52.229 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-09-28 17:23:52.244 +03:00 [INF] Executed action ETicaret.API.Controllers.AuthController.FacebookLogin (ETicaret.API) in 4952.1449ms
2022-09-28 17:23:52.250 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.AuthController.FacebookLogin (ETicaret.API)'
2022-09-28 17:23:52.255 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYnlhc3RpbUBnbWFpbC5jb20iLCJuYmYiOjE2NjQzNzUwMzEsImV4cCI6MTY2NDM3NTA0NiwiaXNzIjoid3d3Lm15YXBpLmNvbSIsImF1ZCI6Ind3dy5iaWxtZW1uZS5jb20ifQ.d5B88S88mDOihewjqD9CdqevF_e-6kDosnMa2Rs7K1g","expiration":"2022-09-28T14:24:06.6376138Z","refreshToken":"8Pl7i6smxdluIDMLslXtue3uqa55iMaHu+BaK8HVgT8="}}
2022-09-28 17:23:52.273 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/api/auth/facebook-login application/json 982 - 200 - application/json;+charset=utf-8 5127.4957ms
2022-09-28 17:30:59.297 +03:00 [INF] User profile is available. Using 'C:\Users\HaticeNur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-28 17:30:59.831 +03:00 [INF] Now listening on: https://localhost:7223
2022-09-28 17:30:59.833 +03:00 [INF] Now listening on: http://localhost:5223
2022-09-28 17:30:59.841 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-28 17:30:59.843 +03:00 [INF] Hosting environment: Development
2022-09-28 17:30:59.846 +03:00 [INF] Content root path: C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\
2022-09-28 17:31:03.564 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - -
2022-09-28 17:31:04.484 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - - - 200 - text/html;charset=utf-8 947.4134ms
2022-09-28 17:31:04.700 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - -
2022-09-28 17:31:04.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - -
2022-09-28 17:31:04.713 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - -
2022-09-28 17:31:04.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 26.8377ms
2022-09-28 17:31:04.767 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-09-28 17:31:04.775 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - - - 0 143943 text/css 63.3601ms
2022-09-28 17:31:04.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 122.9842ms
2022-09-28 17:31:04.843 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - -
2022-09-28 17:31:04.852 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-09-28 17:31:04.858 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - - - 0 665 image/png 14.1375ms
2022-09-28 17:31:05.833 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - -
2022-09-28 17:31:06.062 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 229.5023ms
2022-09-28 17:31:06.489 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 17:31:06.506 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:06.519 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:06.524 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:31:06.530 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - - - 204 - - 41.5967ms
2022-09-28 17:31:06.533 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 17:31:06.536 +03:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:06.539 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:07.002 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-09-28 17:31:07.075 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-09-28 17:31:07.083 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-09-28 17:31:07.101 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-09-28 17:31:07.104 +03:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2022-09-28 17:31:07.108 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - - - 401 0 - 574.8787ms
2022-09-28 17:31:07.115 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/auth/refreshtokenlogin - -
2022-09-28 17:31:07.117 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:07.122 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:07.124 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:31:07.127 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/auth/refreshtokenlogin - - - 204 - - 12.2560ms
2022-09-28 17:31:07.129 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/api/auth/refreshtokenlogin application/json 63
2022-09-28 17:31:07.135 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:07.141 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:07.152 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.AuthController.RefreshTokenLogin (ETicaret.API)'
2022-09-28 17:31:07.212 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaret.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaret.API.Controllers.AuthController (ETicaret.API).
2022-09-28 17:31:07.278 +03:00 [INF] RequestBody: {"refreshToken":"8Pl7i6smxdluIDMLslXtue3uqa55iMaHu+BaK8HVgT8="}
2022-09-28 17:31:09.650 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 17:31:10.571 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-09-28 17:31:11.132 +03:00 [INF] Executed action ETicaret.API.Controllers.AuthController.RefreshTokenLogin (ETicaret.API) in 3906.9949ms
2022-09-28 17:31:11.138 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.AuthController.RefreshTokenLogin (ETicaret.API)'
2022-09-28 17:31:11.333 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaret.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı.
   at ETicaret.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Infrastructure\Eticaret.Persistence\Services\AuthService.cs:line 139
   at ETicaret.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Core\Eticaret.Application\Features\Commands\AppUser\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaret.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\Controllers\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<Main>b__0_6>d.MoveNext() in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-28 17:31:11.507 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/api/auth/refreshtokenlogin application/json 63 - 500 - text/plain;+charset=utf-8 4378.2816ms
2022-09-28 17:31:12.032 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/auth/facebook-login - -
2022-09-28 17:31:12.035 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/facebook-login
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:12.041 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:12.049 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:31:12.054 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/auth/facebook-login - - - 204 - - 22.5950ms
2022-09-28 17:31:12.065 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/api/auth/facebook-login application/json 982
2022-09-28 17:31:12.073 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/facebook-login
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 982
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:12.082 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:12.091 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.AuthController.FacebookLogin (ETicaret.API)'
2022-09-28 17:31:12.099 +03:00 [INF] Route matched with {action = "FacebookLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FacebookLogin(ETicaret.Application.Features.Commands.AppUser.FacebookLogin.FacebookLoginCommandRequest) on controller ETicaret.API.Controllers.AuthController (ETicaret.API).
2022-09-28 17:31:12.106 +03:00 [INF] RequestBody: {"id":"110719425134699","name":"Süleyman Aslan","email":"byastim@gmail.com","photoUrl":"https://graph.facebook.com/110719425134699/picture?type=normal","firstName":"Süleyman","lastName":"Aslan","authToken":"EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD","response":{"name":"Süleyman Aslan","email":"byastim@gmail.com","picture":{"data":{"height":50,"is_silhouette":true,"url":"https://scontent.fesb8-1.fna.fbcdn.net/v/t1.30497-1/84628273_176159830277856_972693363922829312_n.jpg?stp=c15.0.50.50a_cp0_dst-jpg_p50x50&_nc_cat=1&ccb=1-7&_nc_sid=12b3be&_nc_ohc=8hwh4WTwA-kAX_p_wLj&_nc_ht=scontent.fesb8-1.fna&edm=AP4hL3IEAAAA&oh=00_AT9MoTF1y3T-e37R_lqMBoZnyo7QP-etnobVMUeWSXgPlA&oe=635ABD19","width":50}},"first_name":"Süleyman","last_name":"Aslan","id":"110719425134699"},"provider":"FACEBOOK"}
2022-09-28 17:31:12.138 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=495521812133767&client_secret=0abb8b2f24773ce394378fbe085671e3&grant_type=client_credentials"
2022-09-28 17:31:12.148 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=495521812133767&client_secret=0abb8b2f24773ce394378fbe085671e3&grant_type=client_credentials"
2022-09-28 17:31:12.552 +03:00 [INF] Received HTTP response headers after 394.1712ms - 200
2022-09-28 17:31:12.558 +03:00 [INF] End processing HTTP request after 422.4498ms - 200
2022-09-28 17:31:12.566 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD&access_token=495521812133767|MyZutXCtCQ8t4XlK6NmGMOYlTGA"
2022-09-28 17:31:12.571 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD&access_token=495521812133767|MyZutXCtCQ8t4XlK6NmGMOYlTGA"
2022-09-28 17:31:12.749 +03:00 [INF] Received HTTP response headers after 174.6094ms - 200
2022-09-28 17:31:12.756 +03:00 [INF] End processing HTTP request after 189.1724ms - 200
2022-09-28 17:31:12.762 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=email,name&access_token=EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD"
2022-09-28 17:31:12.767 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=email,name&access_token=EAAHCrKmXN4cBAO9Qeg99pQCB0ceQwpZCVA0cdZAecz1B8a8F2wEHvXz6bvdnKQM6YNZCQTXih8NKrmXoissZA6IVZByfFzik1uZBOl80AyuXSrHe0WsBqNChOHykErXZBxMyPj0nPwa5U9GhqgS5HzEg4VsTr38OfONoaPCf2YxGTKlSpC6U1xRdKqRqmiZCPgTjiAyram2s3UEt1K16ZAC435ZCrONWUZBlG0ZD"
2022-09-28 17:31:12.992 +03:00 [INF] Received HTTP response headers after 221.3891ms - 200
2022-09-28 17:31:12.996 +03:00 [INF] End processing HTTP request after 234.3157ms - 200
2022-09-28 17:31:13.083 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 17:31:13.107 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 17:31:13.296 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 17:31:13.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 17:31:13.332 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 17:31:13.339 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-09-28 17:31:13.421 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-09-28 17:31:13.661 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-09-28 17:31:13.737 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaret.Application.Features.Commands.AppUser.FacebookLogin.FacebookLoginCommandResponse'.
2022-09-28 17:31:13.754 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-09-28 17:31:13.759 +03:00 [INF] Executed action ETicaret.API.Controllers.AuthController.FacebookLogin (ETicaret.API) in 1654.5365ms
2022-09-28 17:31:13.762 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.AuthController.FacebookLogin (ETicaret.API)'
2022-09-28 17:31:13.765 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYnlhc3RpbUBnbWFpbC5jb20iLCJuYmYiOjE2NjQzNzU0NzMsImV4cCI6MTY2NDM3NTQ4OCwiaXNzIjoid3d3Lm15YXBpLmNvbSIsImF1ZCI6Ind3dy5iaWxtZW1uZS5jb20ifQ.YY8Ubv0FiFWiMTUIZeI8h4gH_-18H8mgBqFQraBPTkk","expiration":"2022-09-28T14:31:28.3443167Z","refreshToken":"3rJ/iYfSMQ+H4JMew+KKwUlSAx8DeNFEFNP5jvrUbzw="}}
2022-09-28 17:31:13.768 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/api/auth/facebook-login application/json 982 - 200 - application/json;+charset=utf-8 1702.5144ms
2022-09-28 17:31:17.419 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/auth/google-login - -
2022-09-28 17:31:17.419 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/auth/google-login - -
2022-09-28 17:31:17.431 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:17.435 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:17.439 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:17.446 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:17.449 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:31:17.452 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:31:17.456 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/auth/google-login - - - 204 - - 37.0626ms
2022-09-28 17:31:17.460 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/api/auth/google-login application/json 1448
2022-09-28 17:31:17.461 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/auth/google-login - - - 204 - - 42.4805ms
2022-09-28 17:31:17.466 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/api/auth/google-login application/json 1448
2022-09-28 17:31:17.470 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1448
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:17.474 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1448
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:31:17.478 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:17.484 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:31:17.486 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.AuthController.GoogleLogin (ETicaret.API)'
2022-09-28 17:31:17.488 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.AuthController.GoogleLogin (ETicaret.API)'
2022-09-28 17:31:17.495 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaret.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaret.API.Controllers.AuthController (ETicaret.API).
2022-09-28 17:31:17.499 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaret.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaret.API.Controllers.AuthController (ETicaret.API).
2022-09-28 17:31:17.506 +03:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6ImJhMDc5YjQyMDI2NDFlNTRhYmNlZDhmYjEzNTRjZTAzOTE5ZmIyOTQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2NjQzNzUxNzgsImF1ZCI6IjcyNTA3NjMyNjkwNy1pbm1jNDNkNW5wcmp0Ym8yMWtjMzFlcmQ2dGxqMXQwMS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsInN1YiI6IjEwMDgxMjU1NDQ5MTYzNzYxMzIwNiIsImVtYWlsIjoiYnkuYXN0aW1AZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF6cCI6IjcyNTA3NjMyNjkwNy1pbm1jNDNkNW5wcmp0Ym8yMWtjMzFlcmQ2dGxqMXQwMS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsIm5hbWUiOiJTw7xsZXltYW4gQVNMQU4iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FDTlBFdTgwcmpVTVlzTUZUYV9nbkpXRGJKOEdTV1ZneWVLNWdMWjRibGJuWXc9czk2LWMiLCJnaXZlbl9uYW1lIjoiU8O8bGV5bWFuIiwiZmFtaWx5X25hbWUiOiJBU0xBTiIsImlhdCI6MTY2NDM3NTQ3OCwiZXhwIjoxNjY0Mzc5MDc4LCJqdGkiOiI2YWQ1ZGM5YTVkMGVlM2NiMWExMzE0NjlhNWRmODdiMDUwNDk4ODAyIn0.kTQkw-rpJmIaFZVoer8EoOpoHQnSVYZs9mWOxc3gi-hOfIVwCeSgeubFUlbXBc3wYnPJPG7YZi3hAVnCIveQ0Xfqo3a9Y6SIdlz0wdYe60RqmngdxQn4ujKxQULAI78tY2WHPlAaK8wbAgEJC3PzlLGBlwOol3WBSCs520wVga9zI4JXNfmmx3llpYhFuvNGKciaF-pPePiBaU6VIlclPNo9eZnFDbauHUAgP2mc5L2Jq5idFJv3e3Z2TDZ7iCiSb9dGpaDJCXy89_ZGN_jk0BjE7xUi2OOY16LcBVtHvfyxS1U3yvdUT9GjOMSbrtp_0ieLMetExG5NTBHrF2J_yA","id":"100812554491637613206","name":"Süleyman ASLAN","email":"by.astim@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a-/ACNPEu80rjUMYsMFTa_gnJWDbJ8GSWVgyeK5gLZ4blbnYw=s96-c","firstName":"Süleyman","lastName":"ASLAN","provider":"GOOGLE"}
2022-09-28 17:31:17.511 +03:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6ImJhMDc5YjQyMDI2NDFlNTRhYmNlZDhmYjEzNTRjZTAzOTE5ZmIyOTQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2NjQzNzUxNzgsImF1ZCI6IjcyNTA3NjMyNjkwNy1pbm1jNDNkNW5wcmp0Ym8yMWtjMzFlcmQ2dGxqMXQwMS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsInN1YiI6IjEwMDgxMjU1NDQ5MTYzNzYxMzIwNiIsImVtYWlsIjoiYnkuYXN0aW1AZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF6cCI6IjcyNTA3NjMyNjkwNy1pbm1jNDNkNW5wcmp0Ym8yMWtjMzFlcmQ2dGxqMXQwMS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsIm5hbWUiOiJTw7xsZXltYW4gQVNMQU4iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FDTlBFdTgwcmpVTVlzTUZUYV9nbkpXRGJKOEdTV1ZneWVLNWdMWjRibGJuWXc9czk2LWMiLCJnaXZlbl9uYW1lIjoiU8O8bGV5bWFuIiwiZmFtaWx5X25hbWUiOiJBU0xBTiIsImlhdCI6MTY2NDM3NTQ3OCwiZXhwIjoxNjY0Mzc5MDc4LCJqdGkiOiI2YWQ1ZGM5YTVkMGVlM2NiMWExMzE0NjlhNWRmODdiMDUwNDk4ODAyIn0.kTQkw-rpJmIaFZVoer8EoOpoHQnSVYZs9mWOxc3gi-hOfIVwCeSgeubFUlbXBc3wYnPJPG7YZi3hAVnCIveQ0Xfqo3a9Y6SIdlz0wdYe60RqmngdxQn4ujKxQULAI78tY2WHPlAaK8wbAgEJC3PzlLGBlwOol3WBSCs520wVga9zI4JXNfmmx3llpYhFuvNGKciaF-pPePiBaU6VIlclPNo9eZnFDbauHUAgP2mc5L2Jq5idFJv3e3Z2TDZ7iCiSb9dGpaDJCXy89_ZGN_jk0BjE7xUi2OOY16LcBVtHvfyxS1U3yvdUT9GjOMSbrtp_0ieLMetExG5NTBHrF2J_yA","id":"100812554491637613206","name":"Süleyman ASLAN","email":"by.astim@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a-/ACNPEu80rjUMYsMFTa_gnJWDbJ8GSWVgyeK5gLZ4blbnYw=s96-c","firstName":"Süleyman","lastName":"ASLAN","provider":"GOOGLE"}
2022-09-28 17:31:18.564 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 17:31:18.564 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 17:31:18.573 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 17:31:18.596 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 17:31:18.619 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 17:31:18.631 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 17:31:18.646 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-09-28 17:31:18.654 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-09-28 17:31:18.673 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-09-28 17:31:18.683 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaret.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandResponse'.
2022-09-28 17:31:18.688 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-09-28 17:31:18.690 +03:00 [INF] Executed action ETicaret.API.Controllers.AuthController.GoogleLogin (ETicaret.API) in 1179.5624ms
2022-09-28 17:31:18.693 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.AuthController.GoogleLogin (ETicaret.API)'
2022-09-28 17:31:18.695 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYnkuYXN0aW1AZ21haWwuY29tIiwibmJmIjoxNjY0Mzc1NDc4LCJleHAiOjE2NjQzNzU0OTMsImlzcyI6Ind3dy5teWFwaS5jb20iLCJhdWQiOiJ3d3cuYmlsbWVtbmUuY29tIn0.F39nIEhd8nmPdg9-WrJpr4jScMROoHknYfQeQBHye2M","expiration":"2022-09-28T14:31:33.6501775Z","refreshToken":"deY2jleySu+Ucs8cY2FzrcuY5KP81iGqVg5y9sC3vCs="}}
2022-09-28 17:31:18.700 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/api/auth/google-login application/json 1448 - 200 - application/json;+charset=utf-8 1234.5560ms
2022-09-28 17:31:18.753 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 17:31:18.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 17:31:18.767 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 17:31:18.774 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 17:31:18.781 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-09-28 17:31:18.787 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-09-28 17:31:18.797 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-09-28 17:31:18.815 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaret.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandResponse'.
2022-09-28 17:31:18.819 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-09-28 17:31:18.822 +03:00 [INF] Executed action ETicaret.API.Controllers.AuthController.GoogleLogin (ETicaret.API) in 1319.1089ms
2022-09-28 17:31:18.827 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.AuthController.GoogleLogin (ETicaret.API)'
2022-09-28 17:31:18.831 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYnkuYXN0aW1AZ21haWwuY29tIiwibmJmIjoxNjY0Mzc1NDc4LCJleHAiOjE2NjQzNzU0OTMsImlzcyI6Ind3dy5teWFwaS5jb20iLCJhdWQiOiJ3d3cuYmlsbWVtbmUuY29tIn0.F39nIEhd8nmPdg9-WrJpr4jScMROoHknYfQeQBHye2M","expiration":"2022-09-28T14:31:33.7830455Z","refreshToken":"/l87Z4sD/RXSW4Orl6VyO0AnLfu4JwsuLu1Wi1xtZ/c="}}
2022-09-28 17:31:18.836 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/api/auth/google-login application/json 1448 - 200 - application/json;+charset=utf-8 1375.9313ms
2022-09-28 17:32:48.256 +03:00 [INF] User profile is available. Using 'C:\Users\HaticeNur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-28 17:32:49.607 +03:00 [INF] Now listening on: https://localhost:7223
2022-09-28 17:32:49.635 +03:00 [INF] Now listening on: http://localhost:5223
2022-09-28 17:32:49.647 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-28 17:32:49.653 +03:00 [INF] Hosting environment: Development
2022-09-28 17:32:49.656 +03:00 [INF] Content root path: C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\
2022-09-28 17:32:52.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - -
2022-09-28 17:32:52.424 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/auth/login - -
2022-09-28 17:32:52.479 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:32:52.489 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:32:52.496 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:32:52.518 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/api/auth/login application/json 52
2022-09-28 17:32:52.521 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/auth/login - - - 204 - - 95.7772ms
2022-09-28 17:32:52.540 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:32:52.547 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:32:52.593 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.AuthController.Login (ETicaret.API)'
2022-09-28 17:32:52.723 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaret.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaret.API.Controllers.AuthController (ETicaret.API).
2022-09-28 17:32:52.971 +03:00 [INF] RequestBody: {"userNameOrEmail":"saslan2","password":"12345678a"}
2022-09-28 17:32:53.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - - - 200 - text/html;charset=utf-8 985.4119ms
2022-09-28 17:32:53.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - -
2022-09-28 17:32:53.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - -
2022-09-28 17:32:53.293 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - -
2022-09-28 17:32:53.305 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 40.0236ms
2022-09-28 17:32:53.389 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-09-28 17:32:53.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/swagger-ui.css - - - 0 143943 text/css 101.1903ms
2022-09-28 17:32:53.552 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 258.4859ms
2022-09-28 17:32:53.557 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - -
2022-09-28 17:32:53.574 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-09-28 17:32:53.582 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - - - 0 665 image/png 25.6550ms
2022-09-28 17:32:53.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - -
2022-09-28 17:32:54.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 340.3367ms
2022-09-28 17:32:55.865 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 17:32:56.554 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 17:32:56.558 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:32:56.564 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:32:56.567 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:32:56.571 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - - - 204 - - 16.6255ms
2022-09-28 17:32:56.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 17:32:56.577 +03:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:32:56.582 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:32:56.821 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-09-28 17:32:57.129 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-09-28 17:32:57.207 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-09-28 17:32:57.216 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-09-28 17:32:57.231 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-09-28 17:32:57.233 +03:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2022-09-28 17:32:57.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - - - 401 0 - 662.3558ms
2022-09-28 17:32:57.243 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/auth/refreshtokenlogin - -
2022-09-28 17:32:57.246 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:32:57.253 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:32:57.256 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:32:57.260 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/auth/refreshtokenlogin - - - 204 - - 17.0091ms
2022-09-28 17:32:57.262 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/api/auth/refreshtokenlogin application/json 63
2022-09-28 17:32:57.266 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:32:57.271 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:32:57.279 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.AuthController.RefreshTokenLogin (ETicaret.API)'
2022-09-28 17:32:57.289 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaret.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaret.API.Controllers.AuthController (ETicaret.API).
2022-09-28 17:32:57.294 +03:00 [INF] RequestBody: {"refreshToken":"/l87Z4sD/RXSW4Orl6VyO0AnLfu4JwsuLu1Wi1xtZ/c="}
2022-09-28 17:32:57.321 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-09-28 17:32:57.382 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 17:32:57.396 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-09-28 17:32:57.738 +03:00 [INF] Executed action ETicaret.API.Controllers.AuthController.RefreshTokenLogin (ETicaret.API) in 435.2125ms
2022-09-28 17:32:57.745 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.AuthController.RefreshTokenLogin (ETicaret.API)'
2022-09-28 17:32:57.966 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaret.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı.
   at ETicaret.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Infrastructure\Eticaret.Persistence\Services\AuthService.cs:line 139
   at ETicaret.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Core\Eticaret.Application\Features\Commands\AppUser\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaret.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\Controllers\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<Main>b__0_6>d.MoveNext() in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-28 17:32:58.082 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/api/auth/refreshtokenlogin application/json 63 - 500 - text/plain;+charset=utf-8 819.7250ms
2022-09-28 17:32:58.148 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-09-28 17:32:58.236 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaret.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2022-09-28 17:32:58.250 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-09-28 17:32:58.254 +03:00 [INF] Executed action ETicaret.API.Controllers.AuthController.Login (ETicaret.API) in 5479.1614ms
2022-09-28 17:32:58.257 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.AuthController.Login (ETicaret.API)'
2022-09-28 17:32:58.260 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoic2FzbGFuMiIsIm5iZiI6MTY2NDM3NTU3NywiZXhwIjoxNjY0Mzc1NTkyLCJpc3MiOiJ3d3cubXlhcGkuY29tIiwiYXVkIjoid3d3LmJpbG1lbW5lLmNvbSJ9.dChkbH7OXlXRq506SOy_RwYdChHcHD9nxRtsV5RsIUE","expiration":"2022-09-28T14:33:12.2209059Z","refreshToken":"bolj1Irwwf17wKHygvECxRCtp0KFJ6MK4wfbYUFoVog="}}
2022-09-28 17:32:58.262 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 5744.6963ms
2022-09-28 17:33:03.384 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 17:33:03.390 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:33:03.397 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:33:03.401 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 17:33:03.406 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - - - 204 - - 22.5196ms
2022-09-28 17:33:03.408 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 17:33:03.411 +03:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 17:33:03.415 +03:00 [INF] CORS policy execution successful.
2022-09-28 17:33:03.456 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.ProductsController.Get (ETicaret.API)'
2022-09-28 17:33:03.467 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaret.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaret.API.Controllers.ProductsController (ETicaret.API).
2022-09-28 17:33:03.505 +03:00 [INF] Get all products
2022-09-28 17:33:03.527 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 17:33:03.620 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-09-28 17:33:03.655 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-09-28 17:33:03.662 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-09-28 17:33:03.696 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-09-28 17:33:03.725 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaret.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-09-28 17:33:03.748 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-09-28 17:33:03.754 +03:00 [INF] Executed action ETicaret.API.Controllers.ProductsController.Get (ETicaret.API) in 281.2255ms
2022-09-28 17:33:03.761 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.ProductsController.Get (ETicaret.API)'
2022-09-28 17:33:03.763 +03:00 [INF] ResponseBody: {"totalCount":15,"products":[{"id":"9b16d62f-026b-41ef-80b2-cdecfddc2697","name":"Kalem","stock":100,"price":15,"createdDate":"2022-09-17T12:37:13.780656Z","updatedDate":"0001-01-01T00:00:00"},{"id":"8592331a-c930-41de-8a70-03c84fca5af4","name":"Defter","stock":100,"price":50,"createdDate":"2022-09-17T12:37:30.078678Z","updatedDate":"0001-01-01T00:00:00"},{"id":"8935b460-d07a-40db-9e89-b6ab26a3fcc5","name":"Kita","stock":100,"price":75,"createdDate":"2022-09-17T12:37:30.075308Z","updatedDate":"0001-01-01T00:00:00"},{"id":"18ad6052-9899-4bc9-8a16-366d2f8884d2","name":"Renkli Kağıt","stock":1500,"price":5.5,"createdDate":"2022-09-17T12:37:13.780746Z","updatedDate":"2022-09-17T12:43:03.454366Z"},{"id":"d5e8e86c-2653-4043-9a70-058e5ada236b","name":"Kağıt","stock":100,"price":65,"createdDate":"2022-09-17T12:37:30.090654Z","updatedDate":"0001-01-01T00:00:00"}]}
2022-09-28 17:33:03.769 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 360.8098ms
2022-09-28 18:13:02.533 +03:00 [INF] User profile is available. Using 'C:\Users\HaticeNur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-28 18:13:05.666 +03:00 [INF] Now listening on: https://localhost:7223
2022-09-28 18:13:05.669 +03:00 [INF] Now listening on: http://localhost:5223
2022-09-28 18:13:05.680 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-28 18:13:05.682 +03:00 [INF] Hosting environment: Development
2022-09-28 18:13:05.684 +03:00 [INF] Content root path: C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\
2022-09-28 18:13:08.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - -
2022-09-28 18:13:08.707 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/auth/google-login - -
2022-09-28 18:13:08.993 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:09.023 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:09.051 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 18:13:09.097 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/auth/google-login - - - 204 - - 383.3499ms
2022-09-28 18:13:09.123 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/api/auth/google-login application/json 1448
2022-09-28 18:13:09.275 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1448
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:09.290 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:09.341 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.AuthController.GoogleLogin (ETicaret.API)'
2022-09-28 18:13:09.468 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaret.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaret.API.Controllers.AuthController (ETicaret.API).
2022-09-28 18:13:09.551 +03:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6ImJhMDc5YjQyMDI2NDFlNTRhYmNlZDhmYjEzNTRjZTAzOTE5ZmIyOTQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2NjQzNzc2ODksImF1ZCI6IjcyNTA3NjMyNjkwNy1pbm1jNDNkNW5wcmp0Ym8yMWtjMzFlcmQ2dGxqMXQwMS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsInN1YiI6IjEwMDgxMjU1NDQ5MTYzNzYxMzIwNiIsImVtYWlsIjoiYnkuYXN0aW1AZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF6cCI6IjcyNTA3NjMyNjkwNy1pbm1jNDNkNW5wcmp0Ym8yMWtjMzFlcmQ2dGxqMXQwMS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsIm5hbWUiOiJTw7xsZXltYW4gQVNMQU4iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FDTlBFdTgwcmpVTVlzTUZUYV9nbkpXRGJKOEdTV1ZneWVLNWdMWjRibGJuWXc9czk2LWMiLCJnaXZlbl9uYW1lIjoiU8O8bGV5bWFuIiwiZmFtaWx5X25hbWUiOiJBU0xBTiIsImlhdCI6MTY2NDM3Nzk4OSwiZXhwIjoxNjY0MzgxNTg5LCJqdGkiOiI0MTQzMDZlOWU0MWUwZGEyNjE3MDc0M2FhOWZiZTI5ZjgwMTU4YjFiIn0.Zw7y5b5XXPJu8FuOR6eWjQjn-JbNWplOJzyLAcJinFjjDjegvMhuXioePi0JaiSNpJod3g7kyntgTpHq_vmnDi8F_Ivpfq3m1cHqSFWCtwFJXsUHtG-Z7vfFoqROt52VSVPJa-TyZbQzFyajZlW6hwJFHLAEqe9wastANh362LZ92pIo-T5rtmz39-V46-FfCXVo9rUvSxl6vOe7PI2yNQdLEe3EyfwWW7aSPSb4NUIne1GhplronaUReKxDZad3wQ4BhA1EFPXgBgokbpKEKiDXVWQvRBm15CM7cxYTGHc0s0wf4UWu3Qs3O5e_THFSUtQLr7R7Wff-n2SO9Q_8Jw","id":"100812554491637613206","name":"Süleyman ASLAN","email":"by.astim@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a-/ACNPEu80rjUMYsMFTa_gnJWDbJ8GSWVgyeK5gLZ4blbnYw=s96-c","firstName":"Süleyman","lastName":"ASLAN","provider":"GOOGLE"}
2022-09-28 18:13:10.027 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - - - 200 - text/html;charset=utf-8 1556.4915ms
2022-09-28 18:13:10.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - -
2022-09-28 18:13:10.177 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - -
2022-09-28 18:13:10.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 62.8107ms
2022-09-28 18:13:10.339 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 163.3212ms
2022-09-28 18:13:10.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - -
2022-09-28 18:13:10.483 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-09-28 18:13:10.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/favicon-16x16.png - - - 0 665 image/png 66.2369ms
2022-09-28 18:13:10.652 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - -
2022-09-28 18:13:11.348 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 696.5441ms
2022-09-28 18:13:13.981 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 18:13:14.834 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 18:13:15.097 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 18:13:15.194 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-09-28 18:13:15.205 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-09-28 18:13:15.212 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-09-28 18:13:15.640 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-09-28 18:13:15.957 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-09-28 18:13:16.070 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaret.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandResponse'.
2022-09-28 18:13:16.087 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-09-28 18:13:16.105 +03:00 [INF] Executed action ETicaret.API.Controllers.AuthController.GoogleLogin (ETicaret.API) in 6608.2487ms
2022-09-28 18:13:16.114 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.AuthController.GoogleLogin (ETicaret.API)'
2022-09-28 18:13:16.124 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYnkuYXN0aW1AZ21haWwuY29tIiwibmJmIjoxNjY0Mzc3OTk1LCJleHAiOjE2NjQzNzgwMTAsImlzcyI6Ind3dy5teWFwaS5jb20iLCJhdWQiOiJ3d3cuYmlsbWVtbmUuY29tIn0.p6Lj08KgsPdvTrd-cwRRNTdcqHLGWrA4NnNhzgtfV5A","expiration":"2022-09-28T15:13:30.2774671Z","refreshToken":"bYBCi3p2nhXrXr0NqmFu1CD4+r/6fmPc4NimQAGqte8="}}
2022-09-28 18:13:16.149 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/api/auth/google-login application/json 1448 - 200 - application/json;+charset=utf-8 7025.7056ms
2022-09-28 18:13:19.317 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 18:13:19.320 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:19.325 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:19.328 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 18:13:19.330 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - - - 204 - - 13.0621ms
2022-09-28 18:13:19.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 18:13:19.336 +03:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:19.339 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:19.546 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.ProductsController.Get (ETicaret.API)'
2022-09-28 18:13:19.559 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaret.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaret.API.Controllers.ProductsController (ETicaret.API).
2022-09-28 18:13:19.594 +03:00 [INF] Get all products
2022-09-28 18:13:19.674 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 18:13:19.761 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-09-28 18:13:19.788 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-09-28 18:13:19.792 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-09-28 18:13:19.818 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-09-28 18:13:19.835 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaret.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-09-28 18:13:19.851 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-09-28 18:13:19.854 +03:00 [INF] Executed action ETicaret.API.Controllers.ProductsController.Get (ETicaret.API) in 289.7112ms
2022-09-28 18:13:19.857 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.ProductsController.Get (ETicaret.API)'
2022-09-28 18:13:19.860 +03:00 [INF] ResponseBody: {"totalCount":15,"products":[{"id":"9b16d62f-026b-41ef-80b2-cdecfddc2697","name":"Kalem","stock":100,"price":15,"createdDate":"2022-09-17T12:37:13.780656Z","updatedDate":"0001-01-01T00:00:00"},{"id":"8592331a-c930-41de-8a70-03c84fca5af4","name":"Defter","stock":100,"price":50,"createdDate":"2022-09-17T12:37:30.078678Z","updatedDate":"0001-01-01T00:00:00"},{"id":"8935b460-d07a-40db-9e89-b6ab26a3fcc5","name":"Kita","stock":100,"price":75,"createdDate":"2022-09-17T12:37:30.075308Z","updatedDate":"0001-01-01T00:00:00"},{"id":"18ad6052-9899-4bc9-8a16-366d2f8884d2","name":"Renkli Kağıt","stock":1500,"price":5.5,"createdDate":"2022-09-17T12:37:13.780746Z","updatedDate":"2022-09-17T12:43:03.454366Z"},{"id":"d5e8e86c-2653-4043-9a70-058e5ada236b","name":"Kağıt","stock":100,"price":65,"createdDate":"2022-09-17T12:37:30.090654Z","updatedDate":"0001-01-01T00:00:00"}]}
2022-09-28 18:13:19.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 530.6889ms
2022-09-28 18:13:22.207 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/products?page=1&size=5 - -
2022-09-28 18:13:22.211 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:22.217 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:22.221 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 18:13:22.224 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/products?page=1&size=5 - - - 204 - - 16.8600ms
2022-09-28 18:13:22.226 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/products?page=1&size=5 - -
2022-09-28 18:13:22.231 +03:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:22.234 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:22.238 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.ProductsController.Get (ETicaret.API)'
2022-09-28 18:13:22.242 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaret.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaret.API.Controllers.ProductsController (ETicaret.API).
2022-09-28 18:13:22.253 +03:00 [INF] Get all products
2022-09-28 18:13:22.270 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 18:13:22.277 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-09-28 18:13:22.284 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-09-28 18:13:22.289 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-09-28 18:13:22.294 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-09-28 18:13:22.301 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaret.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-09-28 18:13:22.307 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-09-28 18:13:22.309 +03:00 [INF] Executed action ETicaret.API.Controllers.ProductsController.Get (ETicaret.API) in 61.3508ms
2022-09-28 18:13:22.312 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.ProductsController.Get (ETicaret.API)'
2022-09-28 18:13:22.315 +03:00 [INF] ResponseBody: {"totalCount":15,"products":[{"id":"52327353-b1e2-4552-98e4-1b10c2e2122c","name":"product1","stock":1,"price":7,"createdDate":"2022-09-18T15:35:20.050086Z","updatedDate":"0001-01-01T00:00:00"},{"id":"65bd1aa0-f06b-4b2b-b1ee-8c8a923dbb4a","name":"product2","stock":2,"price":3,"createdDate":"2022-09-18T15:37:35.01013Z","updatedDate":"0001-01-01T00:00:00"},{"id":"89bb3e20-37a2-497f-b65c-3c30590d9616","name":"product4","stock":2,"price":4,"createdDate":"2022-09-18T15:37:48.694Z","updatedDate":"0001-01-01T00:00:00"},{"id":"035cf8ec-102a-4cfc-bfc0-f8b183d0e762","name":"product5","stock":2,"price":5,"createdDate":"2022-09-18T15:37:54.818928Z","updatedDate":"0001-01-01T00:00:00"},{"id":"fdd23053-6643-4d79-a610-630065447350","name":"product7","stock":2,"price":5,"createdDate":"2022-09-18T15:38:02.716788Z","updatedDate":"0001-01-01T00:00:00"}]}
2022-09-28 18:13:22.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/products?page=1&size=5 - - - 200 - application/json;+charset=utf-8 98.1560ms
2022-09-28 18:13:51.278 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 18:13:51.286 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:51.289 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:51.291 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 18:13:51.294 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/products?page=0&size=5 - - - 204 - - 16.3574ms
2022-09-28 18:13:51.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - -
2022-09-28 18:13:51.299 +03:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:51.304 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:51.312 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-09-28 18:13:51.404 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-09-28 18:13:51.408 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-09-28 18:13:51.429 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-09-28 18:13:51.434 +03:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2022-09-28 18:13:51.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/products?page=0&size=5 - - - 401 0 - 140.7255ms
2022-09-28 18:13:51.444 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7223/api/auth/refreshtokenlogin - -
2022-09-28 18:13:51.447 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:51.455 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:51.458 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-09-28 18:13:51.461 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7223/api/auth/refreshtokenlogin - - - 204 - - 17.4792ms
2022-09-28 18:13:51.464 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7223/api/auth/refreshtokenlogin application/json 63
2022-09-28 18:13:51.467 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7223
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-09-28 18:13:51.473 +03:00 [INF] CORS policy execution successful.
2022-09-28 18:13:51.475 +03:00 [INF] Executing endpoint 'ETicaret.API.Controllers.AuthController.RefreshTokenLogin (ETicaret.API)'
2022-09-28 18:13:51.483 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaret.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaret.API.Controllers.AuthController (ETicaret.API).
2022-09-28 18:13:51.491 +03:00 [INF] RequestBody: {"refreshToken":"bYBCi3p2nhXrXr0NqmFu1CD4+r/6fmPc4NimQAGqte8="}
2022-09-28 18:13:51.507 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretDBContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2022-09-28 18:13:51.524 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-09-28 18:13:51.834 +03:00 [INF] Executed action ETicaret.API.Controllers.AuthController.RefreshTokenLogin (ETicaret.API) in 343.7499ms
2022-09-28 18:13:51.839 +03:00 [INF] Executed endpoint 'ETicaret.API.Controllers.AuthController.RefreshTokenLogin (ETicaret.API)'
2022-09-28 18:13:52.034 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaret.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı.
   at ETicaret.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Infrastructure\Eticaret.Persistence\Services\AuthService.cs:line 139
   at ETicaret.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Core\Eticaret.Application\Features\Commands\AppUser\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaret.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\Controllers\AuthController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<Main>b__0_6>d.MoveNext() in C:\Users\HaticeNur\Desktop\Süleyman Javascript\PatikaDersler\GencayYıldız\Net6_Angular_MiniEticaret\Eticaret\Presentation\Eticaret.API\Program.cs:line 118
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-28 18:13:52.140 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7223/api/auth/refreshtokenlogin application/json 63 - 500 - text/plain;+charset=utf-8 677.0719ms
